import{A as E,B as N,C as M,D as _,E as m,F as I,G as T,H as k,K as L,M as R,N as q,O as j,P as J,Q as K,R as D,S as Q,T as W,h as C,i as z,k as P,o as S,r as F,ta as G,ua as X,va as Z,wa as tt,z as w}from"./chunk-QBCDBOGO.js";import{Ab as d,Hb as y,Lc as $,Rb as n,Sb as Y,Wa as a,Xa as f,ba as v,la as x,ma as b,mb as u,ob as h,tb as c,ub as A,wb as U,xb as H,yb as o,zb as i}from"./chunk-2XNKHXTZ.js";function dt(e,t){e&1&&(o(0,"mat-error"),n(1,"it it mandatory to be filled "),i())}function pt(e,t){e&1&&(o(0,"mat-error"),n(1,"it mandatory to filled it."),i())}var et=(()=>{let t=class t{constructor(p,r,l){this.fb=p,this.router=r,this.userService=l,this.loginForm=k,this.validateLoginForm=()=>{this.loginForm=this.fb.group({email:[null,[m.required,m.email]],password:[null,[m.required,m.minLength(6)]]})},this.doLogin=()=>{let s=this.loginForm.value,V={email:s.email,password:s.password};console.log(V),this.userService.login(s).subscribe({next:g=>{this.token=g.token,this.userService.saveToken(this.token),this.router.navigate(["/"])},error:g=>{console.error("Login failed",g.toString())}})}}ngOnInit(){this.validateLoginForm()}};t.\u0275fac=function(r){return new(r||t)(f(D),f(C),f(S))},t.\u0275cmp=x({type:t,selectors:[["app-login"]],decls:28,vars:4,consts:[[1,"h-full"],[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","../../../assets/logo/Rentify.png","alt","Your Company",1,"mx-auto","h-10","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"formGroup"],["appearance","fill"],["for","email"],["matInput","","formControlName","email","id","email","name","email","type","email","autocomplete","email","required",""],["for","password"],["matInput","","formControlName","password","id","password","name","password","type","password","required",""],["type","submit","color","primary","mat-raised-button","",1,"w-full",3,"click","disabled"],[1,"mt-1","signup-link"],["routerLink","/user/registration",1,"font-bold"]],template:function(r,l){r&1&&(o(0,"main",0)(1,"div",1)(2,"div",2),d(3,"img",3),o(4,"h2",4),n(5," Sign in to your account "),i()(),o(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label",8),n(10,"Email address"),i(),d(11,"input",9),u(12,dt,2,0,"mat-error"),i(),o(13,"mat-form-field",7)(14,"mat-label",10),n(15,"Password"),i(),d(16,"input",11),u(17,pt,2,0,"mat-error"),o(18,"mat-hint"),n(19,"hint: password should be min. 6 digit"),i()(),o(20,"div")(21,"button",12),y("click",function(){return l.doLogin()}),n(22,"Login"),i()()(),o(23,"div",13)(24,"span"),n(25,"Don't have an account"),i(),o(26,"a",14),n(27,"Signup here!"),i()()()()()),r&2&&(a(7),h("formGroup",l.loginForm),a(5),c(12,12),a(5),c(17,17),a(4),h("disabled",l.loginForm.invalid))},dependencies:[z,F,M,w,N,E,G,L,_,I,T,j,R,q],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();function ut(e,t){e&1&&(o(0,"mat-error"),n(1,"This field is mandatory."),i())}function ct(e,t){e&1&&(o(0,"mat-error"),n(1,"This field is mandatory."),i())}function ft(e,t){e&1&&(o(0,"mat-error"),n(1,"This field is mandatory."),i())}function gt(e,t){e&1&&(o(0,"mat-error"),n(1,"This field is mandatory."),i())}function ht(e,t){if(e&1&&(o(0,"mat-radio-button",19),n(1),i()),e&2){let B=t.$implicit;h("value",B),a(),Y(B)}}function vt(e,t){e&1&&(o(0,"mat-error"),n(1,"Please enter a valid password."),i())}var it=(()=>{let t=class t{constructor(p,r,l){this.fb=p,this.userService=r,this.router=l,this.signupform=k,this.roles=["TENANT","LANDLORD"],this.validateSignupForm=()=>{this.signupform=this.fb.group({firstname:[null,[m.required]],lastname:[null,[m.required]],email:[null,[m.required,m.email]],phoneNumber:[null,[m.required,m.minLength(10)]],role:[null,[m.required]],password:[null,[m.required,m.minLength(6)]]})},this.doSignup=()=>{let s=this.signupform.value,V={firstname:s.firstname,lastname:s.lastname,email:s.email,phoneNumber:s.phoneNumber,role:s.role,password:s.password};this.userService.signUp(V).subscribe({next:g=>{this.token=g.token,this.userService.saveToken(this.token),this.router.navigate(["/"])},error:g=>{console.error(g)}})}}ngOnInit(){this.validateSignupForm()}};t.\u0275fac=function(r){return new(r||t)(f(D),f(S),f(C))},t.\u0275cmp=x({type:t,selectors:[["app-registration"]],decls:44,vars:7,consts:[[1,"h-full"],[1,"flex","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","../../../../assets/logo/Rentify.png","alt","Your Company",1,"mx-auto","h-10","w-auto"],[1,"mt-10","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"mt-10","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-1",3,"formGroup"],["appearence","fill"],["for","firstname"],["matInput","","id","firstname","name","firstname","type","text","formControlName","firstname"],["for","lastname"],["matInput","","id","lastname","name","lastname","type","text","formControlName","lastname"],["for","email"],["matInput","","formControlName","email","id","email","name","email","type","email","required",""],["for","phonenumber"],["matInput","","formControlName","phoneNumber","id","phonenumber","name","phonenumber","type","phoneNumber","maxlength","10","minlength","10"],[1,"flex","gap-x-2","items-center"],["for","role"],["formControlName","role","aria-label","Select an option"],[3,"value"],["for","password"],["matInput","","formControlName","password","id","password","name","password","type","password"],["mat-raised-button","","type","submit","color","primary",1,"w-full",3,"click","disabled"]],template:function(r,l){r&1&&(o(0,"main",0)(1,"div",1)(2,"div",2),d(3,"img",3),o(4,"h2",4),n(5," Create an Account "),i()(),o(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label",8),n(10,"Firstname"),i(),d(11,"input",9),u(12,ut,2,0,"mat-error"),i(),o(13,"mat-form-field",7)(14,"mat-label",10),n(15,"Lastname"),i(),d(16,"input",11),u(17,ct,2,0,"mat-error"),i(),o(18,"mat-form-field",7)(19,"mat-label",12),n(20,"Email address"),i(),d(21,"input",13),u(22,ft,2,0,"mat-error"),i(),o(23,"mat-form-field",7)(24,"mat-label",14),n(25,"Phone number"),i(),d(26,"input",15),u(27,gt,2,0,"mat-error"),i(),o(28,"div",16)(29,"label",17),n(30,"Select your role"),i(),o(31,"mat-radio-group",18),U(32,ht,2,2,"mat-radio-button",19,A),i()(),o(34,"mat-form-field")(35,"mat-label",20),n(36,"Password"),i(),d(37,"input",21),u(38,vt,2,0,"mat-error"),o(39,"mat-hint"),n(40,"hint : Password must be min. 6 digit."),i()(),o(41,"div")(42,"button",22),y("click",function(){return l.doSignup()}),n(43," Signup "),i()()()()()()),r&2&&(a(7),h("formGroup",l.signupform),a(5),c(12,12),a(5),c(17,17),a(5),c(22,22),a(5),c(27,27),a(5),H(l.roles),a(6),c(38,38),a(4),h("disabled",l.signupform.invalid))},dependencies:[F,M,w,N,E,G,X,Z,L,_,I,T,j,J,K,R,q],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]});let e=t;return e})();var xt=[{path:"login",component:et},{path:"registration",component:it}],ot=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=b({type:t}),t.\u0275inj=v({imports:[P.forChild(xt),P]});let e=t;return e})();var Dt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=b({type:t}),t.\u0275inj=v({imports:[$,ot,tt,Q,W]});let e=t;return e})();export{Dt as LoginModule};
